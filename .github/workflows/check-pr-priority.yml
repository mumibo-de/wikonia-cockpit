name: ‚ùå Block PR ohne Priorit√§t

on:
  pull_request:
    types: [opened, synchronize, reopened]

jobs:
  check-prio-label:
    runs-on: ubuntu-latest
    steps:
      - name: üîç Pr√ºfe auf prio:-Label
        uses: actions/github-script@v6
        with:
          github-token: ${{ secrets.GITHUB_TOKEN }}
          script: |
            const labels = context.payload.pull_request.labels.map(label => label.name);
            const hasPrio = labels.some(label => label.startsWith('prio:'));

            if (!hasPrio) {
              core.setFailed("‚ùó Pull Request ben√∂tigt mindestens ein Label mit 'prio: ...'.");
            }
